<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Systemarchitektur Vitale Arbeitskultur - Integration und Workflows">
    <meta name="author" content="Vitale Arbeitskultur">
    <title>Systemarchitektur | Vitale Arbeitskultur</title>

    <!-- Design Tokens -->
    <link rel="stylesheet" href="css/va-tokens.css">
    <!-- Base Styles -->
    <link rel="stylesheet" href="css/va-styles.css">

    <style>
        .arch-diagram {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 0;
        }

        .diagram-container {
            position: relative;
            width: 100%;
            min-height: 700px;
            background: #f9f9f9;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        /* System Nodes */
        .system-node {
            position: absolute;
            background: white;
            border: 3px solid;
            border-radius: 8px;
            padding: 1.5rem;
            min-width: 150px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .system-node:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .system-title {
            font-weight: var(--font-weight-bold);
            font-size: var(--font-size-base);
            margin-bottom: 0.5rem;
        }

        .system-subtitle {
            font-size: var(--font-size-xs);
            opacity: 0.8;
        }

        /* Node Typen */
        .node-core {
            border-color: var(--color-brand-primary);
            background: linear-gradient(135deg, var(--color-brand-primary) 0%, #FFD54F 100%);
            color: var(--color-brand-secondary);
        }

        .node-external {
            border-color: var(--color-brand-secondary);
        }

        .node-automation {
            border-color: var(--color-brand-accent);
            background: linear-gradient(135deg, #fff 0%, #ffe6e5 100%);
        }

        /* Positionen */
        .node-coda {
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            min-width: 180px;
            z-index: 10;
        }

        .node-sevdesk {
            left: 15%;
            top: 20%;
        }

        .node-brevo {
            right: 15%;
            top: 20%;
        }

        .node-wordpress {
            left: 15%;
            bottom: 20%;
        }

        .node-clockify {
            right: 15%;
            bottom: 20%;
        }

        .node-n8n {
            left: 50%;
            bottom: 10%;
            transform: translateX(-50%);
            min-width: 180px;
        }

        /* SVG für Verbindungen */
        svg.connections {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .flow-arrow {
            stroke: var(--color-brand-accent);
            stroke-width: 2.5;
            fill: none;
            marker-end: url(#arrowhead);
        }

        .flow-label {
            font-size: 11px;
            fill: var(--color-neutral-gray);
            font-weight: var(--font-weight-medium);
        }

        /* Workflow Cards */
        .workflow-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .workflow-card {
            background: white;
            border-left: 4px solid var(--color-brand-accent);
            padding: 1.5rem;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .workflow-card h3 {
            color: var(--color-brand-secondary);
            margin-bottom: 0.5rem;
            font-size: var(--font-size-base);
        }

        .workflow-path {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            font-size: var(--font-size-sm);
            color: var(--color-neutral-gray);
        }

        .workflow-arrow {
            color: var(--color-brand-accent);
        }

        /* Legende */
        .legend {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
            padding: 1.5rem;
            background: white;
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-box {
            width: 30px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .diagram-container {
                min-height: 900px;
            }

            .system-node {
                min-width: 120px;
                padding: 1rem;
                font-size: var(--font-size-sm);
            }

            .node-coda, .node-n8n {
                min-width: 140px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <a href="index.html" class="logo">
                <img src="assets/VA-Logo-White.png" alt="Vitale Arbeitskultur" style="height: 140px; width: auto;">
            </a>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="systemarchitektur.html" class="active">Systemarchitektur</a></li>
                    <li><a href="va-os.html">VA-OS</a></li>
                    <li class="dropdown">
                        <a href="#">Systeme</a>
                        <ul class="dropdown-menu">
                            <li><a href="kommunikation.html">Kommunikation</a></li>
                            <li><a href="buchung.html">Buchung</a></li>
                            <li><a href="paperless.html">Paperless</a></li>
                        </ul>
                    </li>
                    <li><a href="styleguide.html">Styleguide</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <section class="section">
            <div class="container">
                <h1 class="text-center">Systemarchitektur</h1>
                <p class="text-center" style="font-size: var(--font-size-base); margin-top: 1rem; color: var(--color-neutral-gray);">
                    Technische Integration und Workflows der VA-Systeme
                </p>
            </div>
        </section>

        <section class="section-narrow">
            <div class="container">
                <div class="arch-diagram">

                    <!-- Diagramm Container -->
                    <div class="diagram-container">

                        <!-- SVG für Verbindungslinien -->
                        <svg class="connections" viewBox="0 0 1200 700" preserveAspectRatio="xMidYMid meet">
                            <!-- Marker für Pfeilspitzen -->
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                    <polygon points="0 0, 10 3, 0 6" fill="var(--color-brand-accent)" />
                                </marker>
                            </defs>

                            <!-- Connections -->
                            <!-- Coda → SevDesk -->
                            <path d="M 520 330 Q 380 270 260 240" class="flow-arrow"/>
                            <text x="380" y="280" class="flow-label">Produkte</text>

                            <!-- SevDesk → Coda -->
                            <path d="M 280 260 Q 420 310 500 340" class="flow-arrow"/>
                            <text x="380" y="320" class="flow-label">Country IDs</text>

                            <!-- Coda → Brevo -->
                            <path d="M 680 330 Q 820 270 940 240" class="flow-arrow"/>
                            <text x="760" y="280" class="flow-label">Mailinglisten</text>

                            <!-- WordPress → Brevo -->
                            <path d="M 280 480 Q 600 420 920 260" class="flow-arrow"/>
                            <text x="520" y="420" class="flow-label">Newsletter</text>

                            <!-- Coda → Clockify -->
                            <path d="M 680 370 Q 820 430 940 460" class="flow-arrow"/>
                            <text x="780" y="430" class="flow-label">Clients</text>

                            <!-- n8n Connections -->
                            <path d="M 560 540 L 560 410" class="flow-arrow" stroke-dasharray="5,5" opacity="0.6"/>
                            <text x="570" y="480" class="flow-label">Orchestrierung</text>
                        </svg>

                        <!-- Zentrale Node: Coda -->
                        <div class="system-node node-core node-coda">
                            <div class="system-title">Coda</div>
                            <div class="system-subtitle">Zentrale Datenquelle<br>& Projektmanagement</div>
                        </div>

                        <!-- Externe Systeme -->
                        <div class="system-node node-external node-sevdesk">
                            <div class="system-title">SevDesk</div>
                            <div class="system-subtitle">Buchhaltung<br>& Rechnungen</div>
                        </div>

                        <div class="system-node node-external node-brevo">
                            <div class="system-title">Brevo</div>
                            <div class="system-subtitle">E-Mail Marketing<br>& Newsletter</div>
                        </div>

                        <div class="system-node node-external node-wordpress">
                            <div class="system-title">WordPress</div>
                            <div class="system-subtitle">Website<br>& Content</div>
                        </div>

                        <div class="system-node node-external node-clockify">
                            <div class="system-title">Clockify</div>
                            <div class="system-subtitle">Zeit-<br>erfassung</div>
                        </div>

                        <!-- Automation Engine -->
                        <div class="system-node node-automation node-n8n">
                            <div class="system-title">n8n</div>
                            <div class="system-subtitle">Workflow-Automatisierung</div>
                        </div>

                    </div>

                    <!-- Legende -->
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-box" style="background: linear-gradient(135deg, var(--color-brand-primary) 0%, #FFD54F 100%); border-color: var(--color-brand-primary);"></div>
                            <span>Zentrale Datenquelle</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-box" style="background: white; border-color: var(--color-brand-secondary);"></div>
                            <span>Externe Systeme</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-box" style="background: linear-gradient(135deg, #fff 0%, #ffe6e5 100%); border-color: var(--color-brand-accent);"></div>
                            <span>Automatisierung</span>
                        </div>
                        <div class="legend-item">
                            <svg width="40" height="10">
                                <path d="M 0 5 L 35 5" stroke="var(--color-brand-accent)" stroke-width="2" fill="none" marker-end="url(#arrowhead-legend)"/>
                                <defs>
                                    <marker id="arrowhead-legend" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="var(--color-brand-accent)" />
                                    </marker>
                                </defs>
                            </svg>
                            <span>Datenfluss</span>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">

                <h2 class="text-center" style="margin-bottom: 2rem;">Aktive Workflows</h2>

                <div class="workflow-grid">

                    <!-- Workflow 1 -->
                    <div class="workflow-card">
                        <h3>Mailinglisten-Synchronisation</h3>
                        <p style="font-size: var(--font-size-sm);">
                            Automatische Synchronisation von Mailinglisten-Mitgliedern zwischen Coda und Brevo.
                        </p>
                        <div class="workflow-path">
                            <span>Coda</span>
                            <span class="workflow-arrow">→</span>
                            <span>n8n</span>
                            <span class="workflow-arrow">→</span>
                            <span>Brevo</span>
                        </div>
                    </div>

                    <!-- Workflow 2 -->
                    <div class="workflow-card">
                        <h3>Country IDs Sync</h3>
                        <p style="font-size: var(--font-size-sm);">
                            Synchronisation der SevDesk Country IDs nach Coda für konsistente Rechnungsstellung.
                        </p>
                        <div class="workflow-path">
                            <span>SevDesk</span>
                            <span class="workflow-arrow">→</span>
                            <span>n8n</span>
                            <span class="workflow-arrow">→</span>
                            <span>Coda</span>
                        </div>
                    </div>

                    <!-- Workflow 3 -->
                    <div class="workflow-card">
                        <h3>Newsletter Subscription</h3>
                        <p style="font-size: var(--font-size-sm);">
                            Neue Newsletter-Anmeldungen von der Website werden direkt an Brevo weitergeleitet.
                        </p>
                        <div class="workflow-path">
                            <span>WordPress</span>
                            <span class="workflow-arrow">→</span>
                            <span>n8n</span>
                            <span class="workflow-arrow">→</span>
                            <span>Brevo</span>
                        </div>
                    </div>

                    <!-- Workflow 4 -->
                    <div class="workflow-card">
                        <h3>Produkte Export</h3>
                        <p style="font-size: var(--font-size-sm);">
                            Export von Produktdaten aus Coda nach SevDesk für die Rechnungserstellung.
                        </p>
                        <div class="workflow-path">
                            <span>Coda</span>
                            <span class="workflow-arrow">→</span>
                            <span>n8n</span>
                            <span class="workflow-arrow">→</span>
                            <span>SevDesk</span>
                        </div>
                    </div>

                    <!-- Workflow 5 -->
                    <div class="workflow-card">
                        <h3>Client Upsert</h3>
                        <p style="font-size: var(--font-size-sm);">
                            Automatisches Anlegen und Aktualisieren von Kunden in Clockify für Zeiterfassung.
                        </p>
                        <div class="workflow-path">
                            <span>Coda</span>
                            <span class="workflow-arrow">→</span>
                            <span>n8n</span>
                            <span class="workflow-arrow">→</span>
                            <span>Clockify</span>
                        </div>
                    </div>

                    <!-- Workflow 6 -->
                    <div class="workflow-card">
                        <h3>Organisation Update</h3>
                        <p style="font-size: var(--font-size-sm);">
                            Regelmäßige Aktualisierung von Organisationsdaten in Coda.
                        </p>
                        <div class="workflow-path">
                            <span>n8n</span>
                            <span class="workflow-arrow">→</span>
                            <span>Coda</span>
                        </div>
                    </div>

                </div>

                <!-- System Details -->
                <div style="margin-top: 3rem;">
                    <div class="card">
                        <h2>System-Details</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">

                            <div>
                                <h3 style="color: var(--color-brand-primary); font-size: var(--font-size-base);">Coda</h3>
                                <p style="font-size: var(--font-size-sm);">
                                    Zentrale Datenbank für Projekte, Kunden, Seminare und Organisationsdaten.
                                    Dient als "Single Source of Truth".
                                </p>
                            </div>

                            <div>
                                <h3 style="color: var(--color-brand-secondary); font-size: var(--font-size-base);">n8n</h3>
                                <p style="font-size: var(--font-size-sm);">
                                    Open-Source Workflow-Automatisierung. Orchestriert alle Datenflüsse zwischen den Systemen.
                                </p>
                            </div>

                            <div>
                                <h3 style="color: var(--color-brand-secondary); font-size: var(--font-size-base);">SevDesk</h3>
                                <p style="font-size: var(--font-size-sm);">
                                    Buchhaltungssoftware für Rechnungen, Angebote und Finanzverwaltung.
                                </p>
                            </div>

                            <div>
                                <h3 style="color: var(--color-brand-secondary); font-size: var(--font-size-base);">Brevo</h3>
                                <p style="font-size: var(--font-size-sm);">
                                    E-Mail Marketing Platform für Newsletter und automatisierte E-Mail-Kampagnen.
                                </p>
                            </div>

                            <div>
                                <h3 style="color: var(--color-brand-secondary); font-size: var(--font-size-base);">WordPress</h3>
                                <p style="font-size: var(--font-size-sm);">
                                    Content Management System für die Website vitale-arbeitskultur.de.
                                </p>
                            </div>

                            <div>
                                <h3 style="color: var(--color-brand-secondary); font-size: var(--font-size-base);">Clockify</h3>
                                <p style="font-size: var(--font-size-sm);">
                                    Zeiterfassungstool für Projektzeiten und Abrechnungen.
                                </p>
                            </div>

                            <div>
                                <h3 style="color: var(--color-brand-secondary); font-size: var(--font-size-base);">Paperless</h3>
                                <p style="font-size: var(--font-size-sm);">
                                    Dokumentenmanagementsystem mit OCR für Belege, Rechnungen und Verträge.
                                </p>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Vitale Arbeitskultur</h3>
                    <p>Wir gestalten lebendige und nachhaltige Arbeitskultur – für Menschen, die mehr wollen als nur funktionieren.</p>
                </div>
                <div class="footer-section">
                    <h3>Links</h3>
                    <ul style="list-style: none;">
                        <li><a href="https://vitale-arbeitskultur.de">Hauptwebseite</a></li>
                        <li><a href="systemarchitektur.html">Systemarchitektur</a></li>
                        <li><a href="va-os.html">VA-OS Konzept</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Kontakt</h3>
                    <ul style="list-style: none;">
                        <li>E-Mail: <a href="mailto:kontakt@vitale-arbeitskultur.de">kontakt@vitale-arbeitskultur.de</a></li>
                        <li>Web: <a href="https://vitale-arbeitskultur.de" target="_blank">vitale-arbeitskultur.de</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Vitale Arbeitskultur. Alle Rechte vorbehalten.</p>
            </div>
        </div>
    </footer>
</body>
</html>
